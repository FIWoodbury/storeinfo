<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Store Layout</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    margin: 0;
    padding: 15px;
    text-align: center;
  }
  .container {
    max-width: 1000px;
    margin: auto;
    background: #fff;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
  .lang-toggle button {
    margin: 5px;
    padding: 8px 14px;
    font-size: 14px;
    cursor: pointer;
  }
  .image-wrapper {
    position: relative;
    display: inline-block;
    margin: 20px 0;
  }
  img {
    max-width: 100%;
    border: 1px solid #ccc;
  }
  .highlight {
    position: absolute;
    border: 3px solid red;
    pointer-events: none;
    display: none;
  }
  .buttons button {
    width: 90%;
    max-width: 500px;
    padding: 14px;
    margin: 8px auto;
    font-size: 18px;
    display: block;
    background: #0066cc;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  .buttons button:hover {
    background: #004c99;
  }
  #search {
    width:90%;
    padding:12px;
    font-size:18px;
    margin-top:10px;
  }
</style>
</head>

<body>

<div class="container">
  <h2>üõí Fresh India Woodbury ‚Äì Store Layout</h2>

  <!-- Language Toggle -->
  <div class="lang-toggle">
    <button onclick="setLang('en')">English</button>
    <button onclick="setLang('ta')">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
    <button onclick="setLang('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
  </div>

  <!-- Store Image -->
  <div class="image-wrapper">
    <img src="store-layout.jpg" id="storeImage">
    <div class="highlight" id="highlightBox"></div>
  </div>

  <!-- Search -->
  <input id="search" placeholder="Search item (e.g. atta)">
  <p id="result"></p>

  <!-- Aisle Buttons -->
  <div class="buttons">
    <button onclick="goToAisle(1)" id="a1">Aisle 1 ‚Äì Flour</button>
    <button onclick="goToAisle(2)" id="a2">Aisle 2 ‚Äì Lentils</button>
    <button onclick="goToAisle(3)" id="a3">Aisle 3 ‚Äì Lentils</button>
    <button onclick="goToAisle(4)" id="a4">Aisle 4 ‚Äì Spices</button>
    <button onclick="goToAisle(5)" id="a5">Aisle 5 ‚Äì Spices</button>
    <button onclick="goToAisle(6)" id="a6">Aisle 6 ‚Äì Cooking Essentials</button>
  </div>
</div>

<script>
/* ================= DATA ================= */
const aisles = {
  1: {
    name:{en:"Flour",ta:"‡ÆÆ‡Ææ‡Æµ‡ØÅ",hi:"‡§Ü‡§ü‡§æ"},
    items:["Atta","Maida","Rice Flour"],
    box:[10,18,90,22]
  },
  2: {
    name:{en:"Lentils",ta:"‡Æ™‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ",hi:"‡§¶‡§æ‡§≤‡•á‡§Ç"},
    items:["Toor Dal","Moong Dal"],
    box:[10,23,90,27]
  },
  3: {
    name:{en:"Lentils",ta:"‡Æ™‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ",hi:"‡§¶‡§æ‡§≤‡•á‡§Ç"},
    items:["Chana Dal","Urad Dal"],
    box:[10,28,90,32]
  },
  4: {
    name:{en:"Spices",ta:"‡ÆÆ‡Æö‡Ææ‡Æ≤‡Ææ",hi:"‡§Æ‡§∏‡§æ‡§≤‡•á"},
    items:["Turmeric","Chili Powder"],
    box:[10,33,90,37]
  },
  5: {
    name:{en:"Spices",ta:"‡ÆÆ‡Æö‡Ææ‡Æ≤‡Ææ",hi:"‡§Æ‡§∏‡§æ‡§≤‡•á"},
    items:["Garam Masala","Coriander"],
    box:[10,38,90,42]
  },
  6: {
    name:{en:"Cooking Essentials",ta:"‡Æö‡ÆÆ‡Øà‡ÆØ‡Æ≤‡Øç ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æü‡Øç‡Æï‡Æ≥‡Øç",hi:"‡§∞‡§∏‡•ã‡§à ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä"},
    items:["Oil","Ghee"],
    box:[10,43,90,47]
  }
};

let currentLang = "en";

/* ================= FUNCTIONS ================= */
function setLang(lang){
  currentLang = lang;
  Object.keys(aisles).forEach(i=>{
    document.getElementById("a"+i).innerText =
      `Aisle ${i} ‚Äì ${aisles[i].name[lang]}`;
  });
}

function highlightAisle(num){
  const img = document.getElementById("storeImage");
  const rect = img.getBoundingClientRect();
  const [x1,y1,x2,y2] = aisles[num].box;
  const h = document.getElementById("highlightBox");

  h.style.display = "block";
  h.style.left   = rect.width  * x1/100 + "px";
  h.style.top    = rect.height * y1/100 + "px";
  h.style.width  = rect.width  * (x2-x1)/100 + "px";
  h.style.height = rect.height * (y2-y1)/100 + "px";
}

function goToAisle(num){
  highlightAisle(num);
  setTimeout(()=>{
    window.location.href = `aisles/aisle${num}.html`;
  },300);
}

document.getElementById("search").addEventListener("keyup",()=>{
  const q = search.value.toLowerCase();
  for(let i in aisles){
    if(aisles[i].items.some(x=>x.toLowerCase().includes(q))){
      highlightAisle(i);
      result.innerText = `"${q}" is in Aisle ${i} ‚Äì ${aisles[i].name[currentLang]}`;
      return;
    }
  }
  result.innerText = "Item not found";
});
</script>

</body>
</html>
